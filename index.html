<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>El Rayo Agust√≠n ‚Äî Piloto chileno | Agust√≠n Alfaro</title>
<meta name="description" content="Sigue el camino de nuestro piloto chileno Agust√≠n Alfaro: mini-juego, m√∫sica, videos y mensajes de fans."/>
<meta name="theme-color" content="#0c0c0f"/>

<!-- Favicon (auto de carrera) -->
<link rel="icon" type="image/svg+xml" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><text y="48" font-size="48">üèéÔ∏è</text></svg>'/>

<!-- Seguridad (habilita YouTube en iframes) -->
<meta http-equiv="Content-Security-Policy" content="default-src 'self' https://www.youtube.com https://www.youtube-nocookie.com; img-src 'self' data: https://*; style-src 'self' 'unsafe-inline'; script-src 'self'; frame-src https://www.youtube.com https://www.youtube-nocookie.com; media-src 'self' https://*; connect-src 'self';"/>

<style>
:root{
--bg:#0b0b0f; --text:#f2f4f8; --muted:#b8bbc7; --brand:#ff3b30; --accent:#27d17f;
--card:#12141a; --glass:#ffffff14; --max:1120px; --radius:14px; --shadow:0 14px 34px rgba(0,0,0,.38);
--titleMax: 96px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial; color:var(--text); background:#000; line-height:1.55}
a{color:#fff; text-decoration:none}

/* NAV */
.nav{position:sticky; top:0; z-index:30; backdrop-filter:blur(8px); background:#0b0b0fcc; border-bottom:1px solid #ffffff1a}
.nav .row{max-width:var(--max); margin:0 auto; padding:10px 16px; display:flex; align-items:center; justify-content:space-between}
.menu{display:flex; gap:16px; flex-wrap:wrap}
.menu a{opacity:.9; font-weight:700} .menu a:hover{opacity:1}

/* HERO */
.hero{position:relative; min-height:64vh; display:grid; place-items:center; text-align:center; overflow:hidden}
.heroBg{position:absolute; inset:0; background:url("https://images.unsplash.com/photo-1530041686307-2fdee4d1d5a1?q=80&w=1920&auto=format&fit=crop") center/cover no-repeat; transform:scale(1.08); animation:kb 18s ease-in-out infinite alternate; filter:saturate(1.05) contrast(1.08) brightness(.9)}
.heroOverlay{position:absolute; inset:0; background: radial-gradient(80% 70% at 50% 40%, rgba(0,0,0,.25), rgba(0,0,0,.85))}
@keyframes kb{0%{transform:scale(1.08) translateY(0)}100%{transform:scale(1.16) translateY(-2%)}}
.heroInner{position:relative; padding: clamp(24px,4vw,48px); max-width:var(--max); width:100%}
.title{font-size:clamp(40px,8.2vw,var(--titleMax)); font-weight:1000; letter-spacing:-.02em; margin:0}
.carTrack{position:relative; height:1.3em; margin-top:8px}
.car{position:absolute; left:-1.1em; bottom:-.05em; font-size:clamp(26px,6vw,56px); text-shadow:0 0 18px var(--brand); animation:car 6s linear infinite}
@keyframes car{0%{transform:translateX(0)}50%{transform:translateX(calc(100% + 1.6em))}100%{transform:translateX(0)}}
.subtitle{font-size:clamp(20px,4.1vw,calc(var(--titleMax)/2)); font-weight:800; color:#f7f7fb; text-shadow:0 2px 14px rgba(0,0,0,.35); margin:18px auto 16px; line-height:1.1}
.fw{display:inline-block; animation:pop 1.4s ease-in-out infinite} .fw:nth-child(2){animation-delay:.3s} .fw:nth-child(3){animation-delay:.6s}
@keyframes pop{0%,100%{transform:scale(1)}50%{transform:scale(1.18)}}
.cta{display:flex; gap:14px; justify-content:center; flex-wrap:wrap; margin-top:10px}
.btn{display:inline-flex; align-items:center; gap:10px; background:var(--glass); border:1px solid #ffffff2a; padding:12px 16px; border-radius:12px; font-weight:800; letter-spacing:.2px; box-shadow:var(--shadow); backdrop-filter:blur(6px)}
.btn:hover{background:#ffffff24}
.btn.youtube{background:#ff0000; border-color:#ff0000}
.btn.instagram{background:#eee; color:#111}
.icon{width:22px; height:22px}

.audioCtl{position:absolute; right:16px; bottom:16px; z-index:5; display:flex; gap:8px; align-items:center; background:#00000080; border:1px solid #ffffff40; color:#fff; padding:8px 10px; border-radius:999px; font-size:13px; backdrop-filter: blur(6px)}
.audioCtl button{background:#ffffff18; color:#fff; border:1px solid #ffffff40; border-radius:999px; padding:6px 10px; cursor:pointer; font-weight:700}
.audioCtl button:hover{background:#ffffff28}

/* LAYOUT */
.container{max-width:var(--max); margin:0 auto; padding:26px 16px}
h2{font-size:clamp(22px,3.2vw,32px); margin:0 0 14px}

/* CARDS */
.card{background:#0f1118cc; border:1px solid #ffffff20; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow)}
.cardHeader{padding:16px 16px 0} .cardBody{padding:16px}
.chip{display:inline-block; font-size:12px; font-weight:800; text-transform:uppercase; letter-spacing:.08em; padding:6px 10px; border-radius:999px; background:#ffffff16; border:1px solid #ffffff22}
.meta{color:var(--muted); font-size:13px; margin-top:6px}

/* GAME */
#gameWrap{background:var(--card); border:1px solid #ffffff22; border-radius:var(--radius)}
#hud{display:flex; gap:16px; align-items:center; justify-content:space-between; padding:10px 16px; border-bottom:1px solid #ffffff1a; background:#0e1016}
#hud span{font-weight:800}
#game{display:block; width:100%; height:auto; background:#0d0f16}
.help{color:var(--muted); font-size:14px; padding:10px 16px}
.kbd{display:inline-block; padding:2px 6px; border:1px solid #ffffff30; border-radius:6px; background:#ffffff10; font-weight:700}

/* VIDEOS */
.embed{position:relative; width:100%; padding-top:56.25%; background:#000}
.embed iframe{position:absolute; inset:0; width:100%; height:100%; border:0}

/* COMMENTS */
#comments .comment{border:1px solid #ffffff18; background:#ffffff0e; border-radius:12px; padding:12px}
#commentForm{display:grid; gap:10px}
input,textarea{width:100%; background:#0f1118; border:1px solid #ffffff25; color:#fff; padding:10px 12px; border-radius:10px; resize:vertical}
textarea{min-height:100px}
.btn.submit{background:var(--accent); color:#0b0b0f; border:none}
.empty{color:var(--muted); font-style:italic}
footer{border-top:1px solid #ffffff1a; color:#b8bbc7; text-align:center; padding:26px 16px; margin-top:24px}
</style>
</head>
<body>
<!-- NAV -->
<nav class="nav" aria-label="Navegaci√≥n principal">
<div class="row">
<strong>El Rayo Agust√≠n</strong>
<div class="menu">
<a href="#juego">Mini-juego</a>
<a href="#videos">Videos</a>
<a href="#fans">Fans</a>
</div>
</div>
</nav>

<!-- HERO con fondo + m√∫sica -->
<header class="hero" role="banner" aria-label="Portada">
<div class="heroBg" aria-hidden="true"></div>
<div class="heroOverlay" aria-hidden="true"></div>

<!-- Reproductor YouTube ‚Äúaudio‚Äù (autoplay muted + loop). Bot√≥n para activar sonido -->
<div class="audioCtl" id="audioCtl">
<span>üéµ Canci√≥n</span>
<button id="unmute">üîä Activar sonido</button>
<button id="mute">üîá Silenciar</button>
</div>
<!-- Visible de 1x1 para mejorar autoplay; enablejsapi para controlar volumen/mute -->
<iframe id="ytAudio" width="1" height="1" style="position:absolute; left:-9999px; top:-9999px;"
src="https://www.youtube.com/embed/YhX_Woa3kVA?si=T9WUek9QlW-h7Gp5&autoplay=1&mute=1&loop=1&playlist=YhX_Woa3kVA&controls=0&modestbranding=1&playsinline=1&enablejsapi=1"
title="YouTube audio" allow="autoplay"
frameborder="0"></iframe>

<div class="heroInner">
<h1 class="title">EL RAYO AGUST√çN</h1>
<div class="carTrack"><span class="car" aria-hidden="true">üèéÔ∏è</span></div>

<p class="subtitle">
<span class="fw">üéÜ</span> Sigue el camino de nuestro piloto Chileno Agust√≠n Alfaro
<span class="fw">üéá</span><span class="fw">üß®</span>
</p>

<div class="cta">
<a class="btn youtube" target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCAi1UfkKLYyJWwbBmbmK2mA" aria-label="Canal de YouTube">
<svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23.5 6.2a3.1 3.1 0 0 0-2.2-2.2C19.2 3.5 12 3.5 12 3.5s-7.2 0-9.3.5A3.1 3.1 0 0 0 .5 6.2 32 32 0 0 0 0 12a32 32 0 0 0 .5 5.8 3.1 3.1 0 0 0 2.2 2.2c2.1.5 9.3.5 9.3.5s7.2 0 9.3-.5a3.1 3.1 0 0 0 2.2-2.2A32 32 0 0 0 24 12a32 32 0 0 0-.5-5.8zM9.6 15.5V8.5L16 12l-6.4 3.5z"/></svg>
YouTube
</a>
<a class="btn instagram" target="_blank" rel="noopener" href="https://www.instagram.com/agustinalfaro_oficial?igsh=YTF4a2NkMGoxMjBt&utm_source=qr" aria-label="Instagram de Agust√≠n">
<svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
<defs><linearGradient id="ig" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#f58529"/><stop offset="25%" stop-color="#dd2a7b"/><stop offset="50%" stop-color="#8134af"/><stop offset="75%" stop-color="#515bd4"/><stop offset="100%" stop-color="#515bd4"/></linearGradient></defs>
<path fill="url(#ig)" d="M12 2.2c3.2 0 3.6 0 4.9.1 1.2.1 1.9.2 2.4.5.6.2 1 .5 1.5 1 .4.4.8.9 1 1.5.3.5.4 1.2.5 2.4.1 1.3.1 1.7.1 4.9s0 3.6-.1 4.9c-.1 1.2-.2 1.9-.5 2.4-.2.6-.5 1-1 1.5-.4.4-.9.8-1.5 1-.5.3-1.2.4-2.4.5-1.3.1-1.7.1-4.9.1s-3.5 0-4.9-.1c-1.2-.1-1.9-.2-2.4-.5-.6-.2-1-.5-1.5-1-.4-.4-.8-.9-1-1.5-.3-.5-.4-1.2-.5-2.4C2.2 15.6 2.2 15.2 2.2 12s0-3.6.1-4.9c.1-1.2.2-1.9.5-2.4.2-.6.5-1 1-1.5.4-.4.9-.8 1.5-1 .5-.3 1.2-.4 2.4-.5C8.4 2.2 8.8 2.2 12 2.2zm0 5.4a4.4 4.4 0 1 1 0 8.8 4.4 4.4 0 0 1 0-8.8zm6.6-3.2a1 1 0 1 1 0 2.1 1 1 0 0 1 0-2.1z"/></svg>
Instagram
</a>
</div>
</div>
</header>

<main class="container">
<!-- MINI JUEGO -->
<section id="juego" aria-labelledby="title-juego">
<h2 id="title-juego">Mini-juego: ‚ÄúAgust√≠n‚Äù se sube al F1 y esquiva personas</h2>
<div id="gameWrap" class="card">
<div id="hud">
<div>üèÅ <span>Score:</span> <strong id="score">0</strong></div>
<div>‚ö° <span>Velocidad:</span> <strong id="speed">1.0x</strong></div>
<div>‚ù§Ô∏è <span>Vidas:</span> <strong id="lives">3</strong></div>
<button id="restart" class="btn">Reiniciar</button>
</div>
<canvas id="game" width="1100" height="420" aria-label="Pista de carrera"></canvas>
<div class="help">
Secuencia: üë®‚Äç‚úàÔ∏è <b>Agust√≠n</b> camina ‚Üí se sube al F1 ‚Üí üèéÔ∏è corre izquierda‚Üíderecha. Controles: <span class="kbd">Espacio</span> o <span class="kbd">Toque</span> para <b>saltar</b>. Esquiva <b>personas</b>.
</div>
</div>
</section>

<!-- VIDEOS -->
<section id="videos" aria-labelledby="title-videos" style="margin-top:26px">
<h2 id="title-videos">Videos (se actualizan autom√°ticamente)</h2>
<div class="card">
<div class="cardHeader"><span class="chip">Subidas del canal</span></div>
<div class="embed">
<iframe title="Subidas recientes ‚Äî EL RAYO AGUST√çN"
src="https://www.youtube.com/embed?listType=playlist&list=UUAi1UfkKLYyJWwbBmbmK2mA"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
allowfullscreen></iframe>
</div>
<div class="cardBody">
<p class="meta">Fuente: <a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCAi1UfkKLYyJWwbBmbmK2mA/videos">Canal de YouTube</a>. Al subir un nuevo video, aparece primero.</p>
</div>
</div>
</section>

<!-- FANS -->
<section id="fans" aria-labelledby="title-fans" style="margin-top:26px">
<h2 id="title-fans">D√©jale un mensaje a El Rayo Agust√≠n</h2>
<div class="card">
<div class="cardBody">
<form id="commentForm" autocomplete="on">
<input type="text" id="name" placeholder="Tu nombre" required>
<textarea id="message" placeholder="Escribe tu mensaje para Agust√≠n‚Ä¶" required></textarea>
<button type="submit" class="btn submit">Enviar mensaje</button>
<p class="meta" style="margin-top:8px">Tu mensaje quedar√° visible en el blog y adem√°s se abrir√° un correo a <strong>elrayoagustin1@gmail.com</strong> con tu texto.</p>
</form>
</div>
</div>
<div id="comments" style="margin-top:16px" aria-live="polite"></div>
</section>
</main>

<footer>¬© <span id="year"></span> Agust√≠n ‚ÄúEl Rayo‚Äù Alfaro ‚Äî Hecho con ‚ù§Ô∏è para la comunidad.</footer>

<script>
/* A√±o din√°mico */
document.getElementById('year').textContent = new Date().getFullYear();

/* ===== YouTube ‚Äúaudio‚Äù control (desmuteo bajo demanda) ===== */
(function(){
const iframe = document.getElementById('ytAudio');
const unmute = document.getElementById('unmute');
const mute = document.getElementById('mute');

function post(cmd){ iframe.contentWindow.postMessage(JSON.stringify({ event:'command', func:cmd }), '*'); }

// Aseguramos que est√© reproduciendo y en bucle (ya viene con loop=1&playlist=ID)
// Desmutear cuando el usuario lo pida (requisito de autoplay en navegadores)
unmute.addEventListener('click', ()=>{ post('unMute'); post('playVideo'); });
mute.addEventListener('click', ()=>{ post('mute'); });

// En iOS a veces requiere un tap en la p√°gina: al primer interacci√≥n, reproducimos si est√° pausado
document.addEventListener('click', ()=> post('playVideo'), { once:true });
})();

/* ===== Mini-juego: Agust√≠n -> se sube -> corre y salta personas ===== */
(function(){
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;
const GROUND_Y = H - 70;

const state = { phase:'walk', running:true, score:0, speed:3.6, speedFactor:1, lives:3, obstacles:[], t:0 };
const pilot = { label:'Agust√≠n', x:40, y:GROUND_Y-60, w:26, h:60, step:0 };
const car = { x:280, y:GROUND_Y-36, w:120, h:36, color:'#ff3b30', onGround:true, vy:0 };

const $score = document.getElementById('score');
const $speed = document.getElementById('speed');
const $lives = document.getElementById('lives');

function updateHUD(){ $score.textContent=state.score; $speed.textContent=state.speedFactor.toFixed(1)+'x'; $lives.textContent=state.lives; }
function resetGame(){ state.phase='walk'; state.running=true; state.score=0; state.speed=3.6; state.speedFactor=1; state.lives=3; state.obstacles=[]; state.t=0;
pilot.x=40; pilot.y=GROUND_Y-60; pilot.step=0; car.x=280; car.y=GROUND_Y-36; car.onGround=true; car.vy=0; updateHUD(); }
document.getElementById('restart').addEventListener('click', resetGame);

function spawnPerson(){
const lastX = state.obstacles.length ? Math.max(...state.obstacles.map(o=>o.x)) : W + 200;
const x = Math.max(W + 60, lastX + 220 + Math.random()*260);
const sc = 0.9 + Math.random()*0.3, w = 20*sc, h = 58*sc;
state.obstacles.push({ x, y:GROUND_Y-h, w, h, type:'person', sway: Math.random()*Math.PI*2 });
}

function update(){
if(!state.running) return;
state.t++;

if(state.phase==='walk'){
pilot.step += 0.2; pilot.x += 1.8;
if(pilot.x + pilot.w >= car.x + car.w*0.15) state.phase='mount';
} else if(state.phase==='mount'){
if(state.t % 8 === 0) car.y -= 2;
if(state.t % 8 === 4) car.y += 2;
if(state.t % 24 === 0) state.phase='run';
} else {
state.speedFactor += 0.00085; const v = state.speed * state.speedFactor;
for(const o of state.obstacles){ o.x -= v; if(o.type==='person'){ o.sway += 0.04; } }
state.obstacles = state.obstacles.filter(o=> o.x > -80);
if(state.obstacles.length < 4 || (state.obstacles.length && state.obstacles[state.obstacles.length-1].x < W*0.65)){
if(Math.random() < 0.045 * state.speedFactor) spawnPerson();
}
if(!car.onGround){ car.vy += 0.5; car.y += car.vy; if(car.y >= GROUND_Y - car.h){ car.y = GROUND_Y - car.h; car.vy = 0; car.onGround = true; } }
for(const o of state.obstacles){
if(o.type==='person'){
const ax=car.x, ay=car.y, aw=car.w, ah=car.h, bx=o.x, by=o.y, bw=o.w, bh=o.h;
if(ax < bx + bw && ax + aw > bx && ay < by + bh && ay + ah > by){
state.lives--; updateHUD(); o.x = -999; if(state.lives <= 0) state.running = false;
}
}
}
state.score += Math.floor(1 * state.speedFactor); updateHUD();
}
}

function draw(){
// Fondo
ctx.fillStyle = '#0d0f16'; ctx.fillRect(0,0,W,H);
// Suelo y l√≠nea
ctx.fillStyle = '#0b0d13'; ctx.fillRect(0,GROUND_Y, W, H - GROUND_Y);
ctx.strokeStyle = '#ffffff22'; ctx.setLineDash([16,16]); ctx.lineWidth = 3;
ctx.beginPath(); ctx.moveTo(0, GROUND_Y-20); ctx.lineTo(W, GROUND_Y-20); ctx.stroke(); ctx.setLineDash([]);

// Auto y piloto
drawCar(car.x, car.y, car.w, car.h, car.color);
if(state.phase==='walk'){ drawPilot(pilot.x, pilot.y, pilot.w, pilot.h, pilot.step, pilot.label); }

// Personas (obst√°culos)
for(const o of state.obstacles){ if(o.type==='person') drawPerson(o.x,o.y,o.w,o.h,o.sway); }

// Game Over
if(!state.running){
ctx.fillStyle='rgba(0,0,0,.55)'; ctx.fillRect(0,0,W,H);
ctx.fillStyle='#fff'; ctx.font='700 42px system-ui,sans-serif'; ctx.textAlign='center';
ctx.fillText('GAME OVER', W/2, H/2 - 10);
ctx.font='500 18px system-ui,sans-serif';
ctx.fillText('Pulsa Reiniciar para jugar de nuevo', W/2, H/2 + 26);
}
}

function drawPilot(x,y,w,h,step,label){
// Casco
ctx.fillStyle='#e5e9f0'; ctx.fillRect(x+w*0.1,y,w*0.8,h*0.28);
ctx.fillStyle='#1b1f2a'; ctx.fillRect(x+w*0.2,y+h*0.08,w*0.6,h*0.12);
// Cuerpo rojo
ctx.fillStyle='#b12a2a'; ctx.fillRect(x+w*0.2,y+h*0.28,w*0.6,h*0.42);
// Piernas (caminata)
const swing=Math.sin(step)*6; ctx.fillStyle='#d33a3a';
ctx.fillRect(x + w*0.2 - swing*0.3, y + h*0.7, w*0.26, h*0.3);
ctx.fillRect(x + w*0.54 + swing*0.3, y + h*0.7, w*0.26, h*0.3);
// Nombre
ctx.fillStyle='#ffffff'; ctx.font='600 14px system-ui,sans-serif'; ctx.textAlign='center';
ctx.fillText(label, x + w/2, y - 8);
}
function drawCar(x,y,w,h,color){
ctx.fillStyle=color; ctx.fillRect(x+w*0.18,y+h*0.15,w*0.64,h*0.7);
ctx.fillRect(x, y+h*0.2, w*0.22, h*0.6);
ctx.fillRect(x+w*0.84, y+h*0.25, w*0.16, h*0.5);
ctx.fillStyle='#222a'; ctx.fillRect(x+w*0.45, y+h*0.05, w*0.14, h*0.45);
ctx.fillStyle='#111'; ctx.beginPath(); ctx.arc(x+w*0.25,y+h*0.92,h*0.18,0,Math.PI*2); ctx.fill();
ctx.beginPath(); ctx.arc(x+w*0.78,y+h*0.92,h*0.18,0,Math.PI*2); ctx.fill();
}
function drawPerson(x,y,w,h,sway){
// Cabeza
ctx.fillStyle='#f2d3b1'; ctx.beginPath(); ctx.arc(x + w/2, y + h*0.13, w*0.35, 0, Math.PI*2); ctx.fill();
// Cuerpo (camiseta azul)
ctx.fillStyle='#6aa0ff'; ctx.fillRect(x+w*0.2, y+h*0.24, w*0.6, h*0.42);
// Piernas con leve balanceo
const leg=Math.sin(sway)*3; ctx.fillStyle='#445';
ctx.fillRect(x + w*0.2 - leg*0.2, y + h*0.66, w*0.25, h*0.34);
ctx.fillRect(x + w*0.55 + leg*0.2, y + h*0.66, w*0.25, h*0.34);
}

function loop(){ update(); draw(); requestAnimationFrame(loop); }
loop();

function jump(){ if(state.phase!=='run') return; if(car.onGround){ car.vy = -10.6; car.onGround = false; } }
window.addEventListener('keydown', e=>{ if(e.code==='Space'){ e.preventDefault(); jump(); } });
canvas.addEventListener('touchstart', ()=> jump(), {passive:true});
})();

/* ===== Comentarios (visibles + abre email) ===== */
(function(){
const KEY='elrayo_agustin_comments_v7';
const form=document.getElementById('commentForm');
const out=document.getElementById('comments');
const get=()=> JSON.parse(localStorage.getItem(KEY)||'[]');
const set=d=> localStorage.setItem(KEY, JSON.stringify(d));
const escapeHtml=s=> s.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
function render(){
const data=get().sort((a,b)=> b.ts-a.ts);
if(data.length===0){ out.innerHTML=`<p class="empty">A√∫n no hay mensajes. ¬°S√© el primero en saludar a El Rayo! üèÅ</p>`; return; }
out.innerHTML='';
data.forEach(c=>{
const div=document.createElement('div'); div.className='comment';
div.innerHTML=`<strong>${escapeHtml(c.name)}</strong> <span class="meta">‚Ä¢ ${new Date(c.ts).toLocaleString('es-CL')}</span>
<p style="margin:6px 0 0">${escapeHtml(c.msg)}</p>`;
out.appendChild(div);
});
}
form.addEventListener('submit', e=>{
e.preventDefault();
const name=document.getElementById('name').value.trim();
const msg=document.getElementById('message').value.trim();
if(!name||!msg) return;
const arr=get(); arr.push({name,msg,ts:Date.now()}); set(arr); form.reset(); render();
const subject=encodeURIComponent(`Mensaje para EL RAYO AGUST√çN de ${name}`);
const body=encodeURIComponent(`${msg}\n\n‚Äî Enviado desde el blog de EL RAYO AGUST√çN`);
window.location.href=`mailto:elrayoagustin1@gmail.com?subject=${subject}&body=${body}`;
});
render();
})();
</script>
</body>
</html>