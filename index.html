<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EL RAYO AGUST√çN ‚Äî Blog, Juego, Videos & Prensa</title>
<meta name="description" content="Sigue el camino de nuestro piloto Chileno Agust√≠n Alfaro: mini-juego, entrevistas, videos, prensa y mensajes de fans." />
<meta name="theme-color" content="#0c0c0f" />
<style>
:root{
--bg:#0b0b0f; --text:#f2f4f8; --muted:#b8bbc7; --brand:#ff3b30; --accent:#27d17f;
--card:#12141a; --glass:#ffffff12; --max:1100px; --radius:14px; --shadow:0 14px 34px rgba(0,0,0,.38);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;
color:var(--text); line-height:1.55;
background:
linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.9)),
url("https://images.unsplash.com/photo-1530041686307-2fdee4d1d5a1?q=80&w=1920&auto=format&fit=crop") center/cover fixed no-repeat;
}
a{color:#fff; text-decoration:none}

/* NAV */
.nav{position:sticky; top:0; z-index:20; backdrop-filter:blur(8px); background:#0b0b0fcc; border-bottom:1px solid #ffffff1a}
.nav .row{max-width:var(--max); margin:0 auto; padding:10px 16px; display:flex; align-items:center; justify-content:space-between}
.menu{display:flex; gap:16px; flex-wrap:wrap}
.menu a{opacity:.9; font-weight:700} .menu a:hover{opacity:1}

/* HERO */
.hero{min-height:62vh; display:grid; place-items:center; text-align:center; padding: clamp(24px,4vw,48px)}
.titleWrap{display:inline-block; position:relative}
.title{
font-size:clamp(40px,8.2vw,96px); font-weight:1000; letter-spacing:-.02em; margin:0;
}
.carTrack{position:relative; height:1.2em; margin-top:4px}
.car{position:absolute; left:0; bottom:-.05em; font-size:clamp(26px,6vw,56px); text-shadow:0 0 18px var(--brand)}
@keyframes car-run{0%{left:0} 50%{left:calc(100% - 1em)} 100%{left:0}}
.car.animate{animation: car-run 5.8s linear infinite}

.subtitle{color:var(--muted); max-width:820px; margin:10px auto 16px}
.cta{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}
.btn{
display:inline-flex; align-items:center; gap:10px;
background:var(--glass); border:1px solid #ffffff2a; padding:12px 16px; border-radius:12px;
font-weight:800; letter-spacing:.2px; box-shadow:var(--shadow); backdrop-filter:blur(6px)
}
.btn:hover{background:#ffffff20}
.btn.brand{background:var(--brand); border-color:transparent}
.icon{width:22px; height:22px; display:inline-block}

/* LAYOUT */
.container{max-width:var(--max); margin:0 auto; padding:26px 16px}
h2{font-size:clamp(22px,3.2vw,32px); margin:0 0 14px}

/* CARDS / LISTS */
.card{background:#0f1118cc; border:1px solid #ffffff20; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow)}
.cardHeader{padding:16px 16px 0}
.cardBody{padding:16px}
.chip{display:inline-block; font-size:12px; font-weight:800; text-transform:uppercase; letter-spacing:.08em; padding:6px 10px; border-radius:999px; background:#ffffff16; border:1px solid #ffffff22}
.meta{color:var(--muted); font-size:13px; margin-top:6px}

/* GAME */
#gameWrap{background:var(--card); border:1px solid #ffffff22; border-radius:var(--radius)}
#hud{display:flex; gap:16px; align-items:center; justify-content:space-between; padding:10px 16px; border-bottom:1px solid #ffffff1a; background:#0e1016}
#hud span{font-weight:800}
#game{display:block; width:100%; height:auto; background:#0d0f16}
.help{color:var(--muted); font-size:14px; padding:10px 16px}
.kbd{display:inline-block; padding:2px 6px; border:1px solid #ffffff30; border-radius:6px; background:#ffffff10; font-weight:700}

/* VIDEOS */
.embed{position:relative; width:100%; padding-top:56.25%; background:#000}
.embed iframe{position:absolute; inset:0; width:100%; height:100%; border:0}

/* COMMENTS */
#comments .comment{border:1px solid #ffffff18; background:#ffffff0e; border-radius:12px; padding:12px}
#commentForm{display:grid; gap:10px}
input, textarea{width:100%; background:#0f1118; border:1px solid #ffffff25; color:#fff; padding:10px 12px; border-radius:10px; resize:vertical}
textarea{min-height:100px}
.btn.submit{background:var(--accent); color:#0b0b0f; border:none}
.empty{color:var(--muted); font-style:italic}
footer{border-top:1px solid #ffffff1a; color:var(--muted); text-align:center; padding:26px 16px; margin-top:24px}
</style>
</head>
<body>
<!-- NAV -->
<nav class="nav" aria-label="Navegaci√≥n principal">
<div class="row">
<strong>El Rayo Agust√≠n</strong>
<div class="menu">
<a href="#juego">Mini-juego</a>
<a href="#videos">Videos</a>
<a href="#fans">Fans</a>
</div>
</div>
</nav>

<!-- HERO -->
<header class="hero" role="banner" aria-label="Portada">
<div class="titleWrap">
<h1 class="title">EL RAYO AGUST√çN</h1>
<div class="carTrack">
<span id="car" class="car" aria-hidden="true">üèéÔ∏è</span>
</div>
</div>
<p class="subtitle">Sigue el camino de nuestro piloto Chileno Agust√≠n Alfaro</p>
<div class="cta">
<a class="btn brand" target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCAi1UfkKLYyJWwbBmbmK2mA" aria-label="Canal de YouTube">
<!-- YouTube SVG -->
<svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23.5 6.2a3.1 3.1 0 0 0-2.2-2.2C19.2 3.5 12 3.5 12 3.5s-7.2 0-9.3.5A3.1 3.1 0 0 0 .5 6.2 32 32 0 0 0 0 12a32 32 0 0 0 .5 5.8 3.1 3.1 0 0 0 2.2 2.2c2.1.5 9.3.5 9.3.5s7.2 0 9.3-.5a3.1 3.1 0 0 0 2.2-2.2A32 32 0 0 0 24 12a32 32 0 0 0-.5-5.8zM9.6 15.5V8.5L16 12l-6.4 3.5z"/></svg>
YouTube
</a>
<a class="btn" target="_blank" rel="noopener" href="https://www.instagram.com/agustinalfaro_oficial?igsh=YTF4a2NkMGoxMjBt&utm_source=qr" aria-label="Instagram de Agust√≠n">
<!-- Instagram SVG -->
<svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2.2c3.2 0 3.6 0 4.9.1 1.2.1 1.9.2 2.4.5.6.2 1 .5 1.5 1 .4.4.8.9 1 1.5.3.5.4 1.2.5 2.4.1 1.3.1 1.7.1 4.9s0 3.6-.1 4.9c-.1 1.2-.2 1.9-.5 2.4-.2.6-.5 1-1 1.5-.4.4-.9.8-1.5 1-.5.3-1.2.4-2.4.5-1.3.1-1.7.1-4.9.1s-3.6 0-4.9-.1c-1.2-.1-1.9-.2-2.4-.5-.6-.2-1-.5-1.5-1-.4-.4-.8-.9-1-1.5-.3-.5-.4-1.2-.5-2.4C2.2 15.6 2.2 15.2 2.2 12s0-3.6.1-4.9c.1-1.2.2-1.9.5-2.4.2-.6.5-1 1-1.5.4-.4.9-.8 1.5-1 .5-.3 1.2-.4 2.4-.5C8.4 2.2 8.8 2.2 12 2.2zm0 2.2c-3.1 0-3.5 0-4.7.1-.9.1-1.4.2-1.7.4-.4.1-.6.3-.9.6-.3.3-.5.5-.6.9-.2.3-.3.8-.4 1.7-.1 1.2-.1 1.6-.1 4.7s0 3.5.1 4.7c.1.9.2 1.4.4 1.7.1.4.3.6.6.9.3.3.5.5.9.6.3.2.8.3 1.7.4 1.2.1 1.6.1 4.7.1s3.5 0 4.7-.1c.9-.1 1.4-.2 1.7-.4.4-.1.6-.3.9-.6.3-.3.5-.5.6-.9.2-.3.3-.8.4-1.7.1-1.2.1-1.6.1-4.7s0-3.5-.1-4.7c-.1-.9-.2-1.4-.4-1.7-.1-.4-.3-.6-.6-.9-.3-.3-.5-.5-.9-.6-.3-.2-.8-.3-1.7-.4-1.2-.1-1.6-.1-4.7-.1zm0 3.2a4.4 4.4 0 1 1 0 8.8 4.4 4.4 0 0 1 0-8.8zm0 2.2a2.2 2.2 0 1 0 0 4.4 2.2 2.2 0 0 0 0-4.4zm5.6-2.5a1 1 0 1 1 0 2.1 1 1 0 0 1 0-2.1z"/></svg>
Instagram
</a>
</div>
</header>

<main class="container">
<!-- MINI JUEGO -->
<section id="juego" aria-labelledby="title-juego">
<h2 id="title-juego">Mini-juego: S√∫bete y esquiva bombas</h2>
<div id="gameWrap" class="card">
<div id="hud">
<div>üèÅ <span>Score:</span> <strong id="score">0</strong></div>
<div>‚ö° <span>Velocidad:</span> <strong id="speed">1.0x</strong></div>
<div>‚ù§Ô∏è <span>Vidas:</span> <strong id="lives">3</strong></div>
<button id="restart" class="btn">Reiniciar</button>
</div>
<canvas id="game" width="1024" height="420" aria-label="Pista de carrera"></canvas>
<div class="help">
Secuencia: üë®‚Äç‚úàÔ∏è Piloto con casco ‚Üí se sube al F1 ‚Üí üèéÔ∏è corre izquierda‚Üíderecha. Controles: <span class="kbd">Espacio / Toque</span> para saltar.
</div>
</div>
</section>

<!-- VIDEOS -->
<section id="videos" aria-labelledby="title-videos" style="margin-top:26px">
<h2 id="title-videos">Videos (se actualizan autom√°ticamente)</h2>
<div class="card">
<div class="cardHeader"><span class="chip">Subidas del canal</span></div>
<div class="embed">
<!-- Playlist de subidas (se mantiene siempre ordenada por m√°s reciente) -->
<iframe
title="Subidas recientes ‚Äî EL RAYO AGUST√çN"
src="https://www.youtube.com/embed?listType=playlist&list=UUAi1UfkKLYyJWwbBmbmK2mA"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</div>
<div class="cardBody">
<p class="meta">Fuente: <a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCAi1UfkKLYyJWwbBmbmK2mA/videos">Canal de YouTube</a>. Cuando subas un nuevo video, aparecer√° primero en esta lista.</p>
</div>
</div>
</section>

<!-- FANS -->
<section id="fans" aria-labelledby="title-fans" style="margin-top:26px">
<h2 id="title-fans">D√©jale un mensaje a El Rayo Agust√≠n</h2>
<div class="card">
<div class="cardBody">
<form id="commentForm" autocomplete="on">
<input type="text" id="name" placeholder="Tu nombre" required>
<textarea id="message" placeholder="Escribe tu mensaje para Agust√≠n‚Ä¶" required></textarea>
<button type="submit" class="btn submit">Enviar mensaje</button>
<p class="meta" style="margin-top:8px">Tu mensaje quedar√° visible en el blog y adem√°s se abrir√° un correo a <strong>elrayoagustin1@gmail.com</strong> con tu texto.</p>
</form>
</div>
</div>
<div id="comments" style="margin-top:16px" aria-live="polite"></div>
</section>
</main>

<footer>¬© <span id="year"></span> Agust√≠n ‚ÄúEl Rayo‚Äù Alfaro ‚Äî Hecho con ‚ù§Ô∏è para la comunidad.</footer>

<script>
/* ===== A√±o din√°mico ===== */
document.getElementById('year').textContent = new Date().getFullYear();

/* ===== Emoji de auto bajo el t√≠tulo ===== */
(function(){
const car = document.getElementById('car');
// Arranca animaci√≥n al cargar
window.addEventListener('load', ()=> car.classList.add('animate'));
})();

/* ===== Mini-juego side-scroller: piloto -> sube -> corre y salta bombas ===== */
(function(){
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;
const GROUND_Y = H - 70;

const state = {
phase: 'walk', // 'walk' -> 'mount' -> 'run'
running: true,
score: 0,
speed: 3.6,
speedFactor: 1,
lives: 3,
obstacles: [],
t: 0
};

const pilot = {
x: 40, y: GROUND_Y - 60, w: 24, h: 60, color:'#eaeaea',
step: 0
};

const car = {
x: 280, y: GROUND_Y - 36, w: 120, h: 36, color:'#ff3b30',
vx: 0,
onGround: true,
vy: 0
};

function resetGame(){
state.phase = 'walk';
state.running = true;
state.score = 0;
state.speed = 3.6;
state.speedFactor = 1;
state.lives = 3;
state.obstacles = [];
pilot.x = 40; pilot.y = GROUND_Y - 60;
car.x = 280; car.y = GROUND_Y - 36; car.vx = 0; car.vy = 0; car.onGround = true;
updateHUD();
}

function updateHUD(){
document.getElementById('score').textContent = state.score;
document.getElementById('speed').textContent = state.speedFactor.toFixed(1) + 'x';
document.getElementById('lives').textContent = state.lives;
}

function spawnBomb(){
// Bombas por delante del auto cuando est√° corriendo
const gap = 280 + Math.random()*240;
const lastX = state.obstacles.length ? Math.max(...state.obstacles.map(o=>o.x)) : car.x + 500;
const x = Math.max(W + 30, lastX + gap);
state.obstacles.push({ x, y: GROUND_Y - 18, r: 14, type:'bomb' });
}

function update(){
if(!state.running) return;
state.t += 1;

// Fases
if(state.phase === 'walk'){
// Piloto camina hacia el auto
pilot.step += 0.2;
pilot.x += 1.8;
if(pilot.x + pilot.w >= car.x + car.w*0.15){
state.phase = 'mount';
}
} else if(state.phase === 'mount'){
// Animaci√≥n simple de "subirse": piloto desaparece, el auto sube/baja levemente
if(state.t % 8 === 0) car.y -= 2;
if(state.t % 8 === 4) car.y += 2;
if(state.t % 24 === 0){
state.phase = 'run';
car.vx = 4.2;
}
} else if(state.phase === 'run'){
// Dificultad progresiva
state.speedFactor += 0.0008;
const v = state.speed * state.speedFactor;

// Avance del "mundo": movemos obst√°culos hacia la izquierda
for(const o of state.obstacles){ o.x -= v; }
state.obstacles = state.obstacles.filter(o=> o.x > -40);

// Spawn bombas
if(state.obstacles.length < 4 || (state.obstacles.length && state.obstacles[state.obstacles.length-1].x < W*0.65)){
if(Math.random() < 0.04 * state.speedFactor) spawnBomb();
}

// Salto / gravedad
if(!car.onGround){
car.vy += 0.5; // gravedad
car.y += car.vy;
if(car.y >= GROUND_Y - car.h){ car.y = GROUND_Y - car.h; car.vy = 0; car.onGround = true; }
}

// Colisiones
for(const o of state.obstacles){
if(o.type==='bomb'){
const cx = car.x + car.w*0.5, cy = car.y + car.h*0.5;
const dx = Math.abs(o.x - cx);
const dy = Math.abs(o.y - cy);
if(dx < car.w*0.5 + o.r && dy < car.h*0.5 + o.r){
// impacto
state.lives--; updateHUD();
o.x = -999;
if(state.lives <= 0){ state.running = false; }
}
}
}

// Score
state.score += Math.floor(1 * state.speedFactor);
updateHUD();
}
}

function draw(){
// Fondo
ctx.fillStyle = '#0d0f16';
ctx.fillRect(0,0,W,H);

// Suelo y l√≠neas
ctx.fillStyle = '#0b0d13';
ctx.fillRect(0,GROUND_Y, W, H - GROUND_Y);
ctx.strokeStyle = '#ffffff22';
ctx.setLineDash([16,16]); ctx.lineWidth = 3;
ctx.beginPath(); ctx.moveTo(0, GROUND_Y-20); ctx.lineTo(W, GROUND_Y-20); ctx.stroke();
ctx.setLineDash([]);

// Carrocer√≠a
drawCar(car.x, car.y, car.w, car.h, car.color);

// Fases: piloto
if(state.phase === 'walk'){
drawPilot(pilot.x, pilot.y, pilot.w, pilot.h, pilot.step);
} else if(state.phase === 'mount'){
// pil desaparece (metaf√≥rico)
}

// Obst√°culos
ctx.fillStyle = '#ffcf00';
for(const o of state.obstacles){
if(o.type==='bomb'){
drawBomb(o.x, o.y, o.r);
}
}

// Game Over overlay
if(!state.running){
ctx.fillStyle = 'rgba(0,0,0,.55)';
ctx.fillRect(0,0,W,H);
ctx.fillStyle = '#fff';
ctx.font = '700 42px system-ui, sans-serif';
ctx.textAlign = 'center';
ctx.fillText('GAME OVER', W/2, H/2 - 10);
ctx.font = '500 18px system-ui, sans-serif';
ctx.fillText('Pulsa Reiniciar para jugar de nuevo', W/2, H/2 + 26);
}
}

function drawPilot(x,y,w,h,step){
// Casco
ctx.fillStyle = '#e5e9f0';
ctx.fillRect(x + w*0.1, y, w*0.8, h*0.28);
ctx.fillStyle = '#1b1f2a';
ctx.fillRect(x + w*0.2, y + h*0.08, w*0.6, h*0.12);
// Cuerpo
ctx.fillStyle = '#b12a2a';
ctx.fillRect(x + w*0.2, y + h*0.28, w*0.6, h*0.42);
// Piernas (caminar simple)
const swing = Math.sin(step)*6;
ctx.fillStyle = '#d33a3a';
ctx.fillRect(x + w*0.2 - swing*0.3, y + h*0.7, w*0.26, h*0.3);
ctx.fillRect(x + w*0.54 + swing*0.3, y + h*0.7, w*0.26, h*0.3);
}

function drawCar(x,y,w,h,color){
// base
ctx.fillStyle = color;
ctx.fillRect(x+w*0.18, y+h*0.15, w*0.64, h*0.7);
// aler√≥n delantero
ctx.fillRect(x, y+h*0.2, w*0.22, h*0.6);
// aler√≥n trasero
ctx.fillRect(x+w*0.84, y+h*0.25, w*0.16, h*0.5);
// cockpit
ctx.fillStyle = '#222a';
ctx.fillRect(x+w*0.45, y+h*0.05, w*0.14, h*0.45);
// ruedas
ctx.fillStyle = '#111';
ctx.beginPath(); ctx.arc(x+w*0.25, y+h*0.92, h*0.18, 0, Math.PI*2); ctx.fill();
ctx.beginPath(); ctx.arc(x+w*0.78, y+h*0.92, h*0.18, 0, Math.PI*2); ctx.fill();
}

function drawBomb(x,y,r){
// cuerpo
ctx.fillStyle = '#2b2b2b';
ctx.beginPath(); ctx.arc(x,y,r,0,Math.PI*2); ctx.fill();
// mecha
ctx.strokeStyle = '#caa356'; ctx.lineWidth = 3;
ctx.beginPath(); ctx.moveTo(x+r*0.4, y-r*0.7); ctx.lineTo(x+r*0.1, y-r*1.2); ctx.stroke();
// chispa
if((state.t % 20) < 10){
ctx.fillStyle = '#ffd451';
ctx.beginPath(); ctx.arc(x+r*0.1, y-r*1.2, 4, 0, Math.PI*2); ctx.fill();
}
}

function loop(){
update();
draw();
requestAnimationFrame(loop);
}
loop();

function jump(){
if(state.phase !== 'run') return;
if(car.onGround){
car.vy = -10.6;
car.onGround = false;
}
}

// Controles
window.addEventListener('keydown', e=>{
if(e.code === 'Space'){ e.preventDefault(); jump(); }
});
canvas.addEventListener('touchstart', e=>{ jump(); }, {passive:true});

document.getElementById('restart').addEventListener('click', resetGame);
})();

/* ===== Comentarios: visibles + abrir correo a elrayoagustin1@gmail.com ===== */
(function(){
const KEY='elrayo_agustin_comments_v3';
const form = document.getElementById('commentForm');
const out = document.getElementById('comments');

const get = ()=> JSON.parse(localStorage.getItem(KEY)||'[]');
const set = d => localStorage.setItem(KEY, JSON.stringify(d));
const escapeHtml = s => s.replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));

function render(){
const data = get().sort((a,b)=> b.ts - a.ts);
if(data.length===0){ out.innerHTML = `<p class="empty">A√∫n no hay mensajes. ¬°S√© el primero en saludar a El Rayo! üèÅ</p>`; return; }
out.innerHTML = '';
data.forEach(c=>{
const div = document.createElement('div');
div.className='comment';
div.innerHTML = `<strong>${escapeHtml(c.name)}</strong> <span class="meta">‚Ä¢ ${new Date(c.ts).toLocaleString('es-CL')}</span>
<p style="margin:6px 0 0">${escapeHtml(c.msg)}</p>`;
out.appendChild(div);
});
}

form.addEventListener('submit', e=>{
e.preventDefault();
const name = document.getElementById('name').value.trim();
const msg = document.getElementById('message').value.trim();
if(!name || !msg) return;
// Guardar visible
const arr = get(); arr.push({name, msg, ts: Date.now()}); set(arr); form.reset(); render();
// Abrir cliente de correo
const subject = encodeURIComponent(`Mensaje para EL RAYO AGUST√çN de ${name}`);
const body = encodeURIComponent(`${msg}\n\n‚Äî Enviado desde el blog de EL RAYO AGUST√çN`);
window.location.href = `mailto:elrayoagustin1@gmail.com?subject=${subject}&body=${body}`;
});

render();
})();
</script>
</body>
</html>
