<!doctype html>
<html lang="es">
<head>
<!-- =========================
SEO / Metadatos
========================== -->
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>El Rayo Agust√≠n ‚Äî Piloto chileno | Agust√≠n Alfaro</title>
<meta name="description" content="Sigue el camino de El Rayo Agust√≠n (Agust√≠n Alfaro), piloto chileno de automovilismo. Blog, mini-juego, videos y mensajes de fans."/>
<meta name="keywords" content="Piloto chileno, Agust√≠n Alfaro, El Rayo Agust√≠n, karting, f√≥rmula el√©ctrica, VChamp, ERA Racing School, monoplaza, motorsport Chile"/>
<meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1"/>
<link rel="canonical" href="https://tudominio.cl/"/>

<!-- Open Graph / Twitter -->
<meta property="og:title" content="El Rayo Agust√≠n ‚Äî Piloto chileno (Agust√≠n Alfaro)"/>
<meta property="og:description" content="Mini-juego, videos, prensa y comunidad de El Rayo Agust√≠n."/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://tudominio.cl/"/>
<meta property="og:image" content="https://tudominio.cl/og-image.jpg"/>
<meta name="twitter:card" content="summary_large_image"/>

<!-- Schema.org -->
<script type="application/ld+json">
{
"@context":"https://schema.org",
"@graph":[
{"@type":"WebSite","name":"El Rayo Agust√≠n","url":"https://tudominio.cl/"},
{"@type":["Person","Athlete"],
"name":"Agust√≠n Alfaro","alternateName":"El Rayo Agust√≠n",
"nationality":"Chile","sport":"Auto racing",
"description":"Piloto chileno de automovilismo con experiencia en karting y proyecci√≥n a monoplazas.",
"url":"https://tudominio.cl/",
"sameAs":[
"https://www.youtube.com/channel/UCAi1UfkKLYyJWwbBmbmK2mA",
"https://www.instagram.com/agustinalfaro_oficial"
]}
]
}
</script>

<!-- Rendimiento YouTube -->
<link rel="preconnect" href="https://www.youtube.com">
<link rel="preconnect" href="https://www.youtube-nocookie.com">

<!-- Seguridad (CSP) -->
<meta http-equiv="Content-Security-Policy"
content="default-src 'self';
img-src 'self' data: blob: https:;
style-src 'self' 'unsafe-inline';
script-src 'self' 'unsafe-inline';
frame-src https://www.youtube.com https://www.youtube-nocookie.com;
media-src 'self' https:;
connect-src 'self';">

<!-- Favicon simple -->
<link rel="icon" type="image/svg+xml"
href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 32"><rect width="64" height="32" fill="white"/><path d="M6 20h10l6-6h16l8 6h6" stroke="black" stroke-width="2" fill="none"/></svg>'/>
<meta name="theme-color" content="#ffffff"/>

<!-- =========================
Estilos (modo claro)
========================== -->
<style>
:root{
--bg:#ffffff; --text:#0b0c0f; --muted:#5b6676; --brand:#0aa87a; --accent:#10c0e3;
--line:#e6e8ee; --card:#ffffff; --max:1120px; --radius:14px; --shadow:0 10px 24px rgba(0,0,0,.06);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
margin:0;background:var(--bg);color:var(--text);
font:16px/1.55 -apple-system,BlinkMacSystemFont,"SF Pro Text","Helvetica Neue",Inter,Roboto,Arial,sans-serif;
-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
}
a{color:inherit;text-decoration:none}
.container{max-width:var(--max);margin:0 auto;padding:26px 16px}
h1,h2{margin:0 0 12px 0}
h1{font-size:clamp(34px,6.4vw,56px);font-weight:900;letter-spacing:-.02em}
h2{font-size:clamp(22px,3.2vw,32px);font-weight:800}

/* NAV */
.nav{position:sticky;top:0;z-index:30;background:rgba(255,255,255,.85);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
.nav .row{max-width:var(--max);margin:0 auto;padding:10px 16px;display:flex;align-items:center;justify-content:space-between}
.menu{display:flex;gap:16px;flex-wrap:wrap}
.menu a{font-weight:700;padding:8px 10px;border-radius:10px;border:1px solid transparent}
.menu a:hover{background:#fafbfc;border-color:var(--line)}

/* HERO limpio */
.hero{background:#fff}
.hero .inner{max-width:var(--max);margin:0 auto;padding:40px 16px;display:grid;gap:20px;grid-template-columns:1.1fr .9fr}
@media (max-width:960px){.hero .inner{grid-template-columns:1fr}}
.hero .panel{display:flex;gap:10px;flex-wrap:wrap}
.badge{padding:8px 12px;border:1px solid var(--line);border-radius:999px;color:var(--muted);background:#fff}

/* Botones */
.btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:12px;background:#fff;border:1px solid var(--line);box-shadow:var(--shadow)}
.btn.primary{background:linear-gradient(135deg,var(--brand),var(--accent));border:none;color:#032015;font-weight:800}
.icon{width:20px;height:20px}

/* Cards */
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
.cardHeader{padding:14px 16px 0}.cardBody{padding:16px}
.meta{color:var(--muted);font-size:13px;margin-top:6px}

/* Videos */
.embed{position:relative;width:100%;padding-top:56.25%;background:#000;border-radius:12px;overflow:hidden}
.embed iframe{position:absolute;inset:0;width:100%;height:100%;border:0}

/* Fotos */
.grid{display:grid;gap:10px}
.grid.fotos{grid-template-columns:repeat(4,1fr)}
@media (max-width:1100px){.grid.fotos{grid-template-columns:repeat(3,1fr)}}
@media (max-width:730px){.grid.fotos{grid-template-columns:repeat(2,1fr)}}
.foto{position:relative;border:1px solid var(--line);border-radius:12px;overflow:hidden;background:#eef2f7}
.foto img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .3s ease}
.foto:hover img{transform:scale(1.03)}
.tools{display:flex;gap:10px;align-items:center;margin:10px 0}
input[type="file"]{padding:10px;border:1px dashed var(--line);border-radius:12px;background:#fafbfc}
.drop{padding:14px;border:2px dashed var(--line);border-radius:12px;background:#fafbfc;text-align:center;color:var(--muted)}

/* Chat */
#comments .comment{border:1px solid var(--line);background:#fff;border-radius:12px;padding:12px;margin-top:12px}
#commentForm{display:grid;gap:10px}
input,textarea{width:100%;background:#fff;border:1px solid var(--line);color:var(--text);padding:10px 12px;border-radius:10px;resize:vertical}
textarea{min-height:100px}
.btn.submit{background:var(--brand);color:#fff;border:none}

/* Juego */
#gameWrap{border:1px solid var(--line);border-radius:12px}
#hud{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:10px 16px;border-bottom:1px solid var(--line);background:#fafbfc}
#hud span{font-weight:800}
#game{display:block;width:100%;height:auto;background:linear-gradient(180deg,#f3f6fb,#eaeef6);border-bottom-left-radius:12px;border-bottom-right-radius:12px}
.help{color:var(--muted);font-size:14px;padding:10px 16px}

/* Footer */
footer{border-top:1px solid var(--line);color:var(--muted);text-align:center;padding:26px 16px;margin-top:24px}
</style>
</head>
<body>
<!-- NAV -->
<nav class="nav" aria-label="Navegaci√≥n principal">
<div class="row">
<strong>El Rayo Agust√≠n</strong>
<div class="menu">
<a href="#videos">Videos</a>
<a href="#fotos">Fotos</a>
<a href="#juego">Mini-juego</a>
<a href="#fans">Fans</a>
</div>
</div>
</nav>

<!-- HERO -->
<header class="hero" role="banner">
<div class="inner">
<div>
<h1>Agust√≠n Alfaro</h1>
<p>Piloto chileno ‚Äî karting & f√≥rmula el√©ctrica. Velocidad, disciplina y coraz√≥n. üá®üá±</p>
<div class="panel">
<span class="badge">Monoplaza el√©ctrico</span>
<span class="badge">Karting</span>
<span class="badge">Disciplina & foco</span>
</div>
<div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
<a class="btn primary" href="https://www.instagram.com/agustinalfaro_oficial" target="_blank" rel="noopener">
<!-- √çcono Instagram -->
<svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
<rect x="2.5" y="2.5" width="19" height="19" rx="5" stroke="#03180f" stroke-opacity=".6"/>
<path d="M12 8.2a3.8 3.8 0 1 1 0 7.6 3.8 3.8 0 0 1 0-7.6Z" stroke="#03180f" stroke-opacity=".6"/>
<circle cx="17.5" cy="6.5" r="1.2" fill="#03180f" fill-opacity=".8"/>
</svg>
&nbsp; Instagram @agustinalfaro_oficial
</a>
<a class="btn" href="https://youtube.com/@elrayoagustin" target="_blank" rel="noopener">
Canal de YouTube
</a>
</div>
</div>
<div class="card">
<div class="embed">
<!-- Playlist de subidas: autoplay + mute para que arranque en m√≥viles -->
<iframe title="Subidas recientes ‚Äî EL RAYO AGUST√çN"
src="https://www.youtube.com/embed?listType=playlist&list=UUAi1UfkKLYyJWwbBmbmK2mA&autoplay=1&mute=1&playsinline=1&rel=0&modestbranding=1"
allow="autoplay; accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
allowfullscreen></iframe>
</div>
<div class="cardBody">
<p class="meta">Autoplay inicia en silencio por pol√≠ticas del navegador; activa sonido en el reproductor.</p>
</div>
</div>
</div>
</header>

<main class="container">

<!-- FOTOS -->
<section id="fotos" aria-labelledby="title-fotos">
<h2 id="title-fotos">Fotos</h2>
<div class="tools">
<label class="btn" for="fileInput">Elegir archivos</label>
<input id="fileInput" type="file" accept="image/*" multiple style="display:none">
<div id="drop" class="drop">Arrastra y suelta fotos aqu√≠ (tambi√©n se cargan autom√°ticamente desde <code>assets/fotos/</code> si existen)</div>
</div>
<div id="galeria" class="grid fotos"></div>
<p class="meta">Sugerencia: coloca tus fotos en <code>/assets/fotos/</code> con nombres <code>agustin_01.jpeg</code>‚Ä¶<code>agustin_10.jpeg</code>. Si no est√°n, puedes subirlas con el bot√≥n/drag-drop.</p>
</section>

<!-- VIDEOS -->
<section id="videos" aria-labelledby="title-videos" style="margin-top:28px">
<h2 id="title-videos">Videos (se actualizan autom√°ticamente)</h2>
<div class="card">
<div class="cardHeader"><strong>Subidas del canal</strong></div>
<div class="embed">
<iframe title="Subidas del canal ‚Äî EL RAYO AGUST√çN"
src="https://www.youtube.com/embed?listType=playlist&list=UUAi1UfkKLYyJWwbBmbmK2mA&autoplay=1&mute=1&playsinline=1&rel=0&modestbranding=1"
allow="autoplay; accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
allowfullscreen></iframe>
</div>
<div class="cardBody">
<p class="meta">Fuente: <a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCAi1UfkKLYyJWwbBmbmK2mA/videos">Canal de YouTube</a>.</p>
</div>
</div>
</section>

<!-- MINI-JUEGO -->
<section id="juego" aria-labelledby="title-juego" style="margin-top:28px">
<h2 id="title-juego">Mini-juego: Conduce y esquiva</h2>
<div id="gameWrap" class="card">
<div id="hud">
<div><span>Score:</span> <strong id="score">0</strong></div>
<div><span>Velocidad:</span> <strong id="speed">1.0x</strong></div>
<div><span>Vidas:</span> <strong id="lives">3</strong></div>
<button id="restart" class="btn">Reiniciar</button>
</div>
<canvas id="game" width="1100" height="420" aria-label="Pista de carrera"></canvas>
<div class="help">Controles: Barra espaciadora o toque/clic para saltar. Evita obst√°culos.</div>
</div>
</section>

<!-- FANS -->
<section id="fans" aria-labelledby="title-fans" style="margin-top:28px">
<h2 id="title-fans">D√©jale un mensaje</h2>
<div class="card">
<div class="cardBody">
<form id="commentForm" autocomplete="on">
<input type="text" id="name" placeholder="Tu nombre" required>
<textarea id="message" placeholder="Escribe tu mensaje para Agust√≠n‚Ä¶" required></textarea>
<button type="submit" class="btn submit">Enviar mensaje</button>
<p class="meta" style="margin-top:8px">Tu mensaje se mostrar√° abajo y adem√°s abrir√° un correo a <strong>elrayoagustin1@gmail.com</strong>.</p>
</form>
</div>
</div>
<div id="comments" aria-live="polite"></div>
</section>
</main>

<footer>¬© <span id="year"></span> Agust√≠n ‚ÄúEl Rayo‚Äù Alfaro ‚Äî Comunidad oficial.</footer>

<!-- =========================
Scripts
========================== -->
<script>
// A√±o
document.getElementById('year').textContent = new Date().getFullYear();

/* ============= FOTOS =============
1) Intenta precargar desde /assets/fotos/agustin_XX.jpeg
2) Permite subir por input/drag&drop y se muestran al instante
*/
const gal = document.getElementById('galeria');
const fileInput = document.getElementById('fileInput');
const drop = document.getElementById('drop');
const DEFAULTS = [
'agustin_01.jpeg','agustin_02.jpeg','agustin_03.jpeg','agustin_04.jpeg','agustin_05.jpeg',
'agustin_06.jpeg','agustin_07.jpeg','agustin_08.jpeg','agustin_09.jpeg','agustin_10.jpeg'
].map(n => 'assets/fotos/'+n);
const PLACEHOLDER = 'data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600"><rect width="100%" height="100%" fill="#eef2f7"/><text x="50%" y="50%" font-size="22" text-anchor="middle" dominant-baseline="middle" fill="#8a96a8" font-family="system-ui,Arial">Foto</text></svg>');

function addImg(src){
const fig = document.createElement('figure');
fig.className='foto';
const img = document.createElement('img');
img.loading='lazy'; img.decoding='async'; img.src = src;
img.onerror = () => { img.src = PLACEHOLDER; };
fig.appendChild(img);
gal.appendChild(fig);
}
function preloadDefaults(){
DEFAULTS.forEach(addImg);
}
function handleFiles(files){
[...files].forEach(f=>{
const url = URL.createObjectURL(f);
addImg(url);
});
}
fileInput.addEventListener('change', e=>handleFiles(e.target.files));
['dragenter','dragover'].forEach(ev=>drop.addEventListener(ev, e=>{e.preventDefault(); drop.style.borderColor='#c7ccd8';}));
['dragleave','drop'].forEach(ev=>drop.addEventListener(ev, e=>{e.preventDefault(); drop.style.borderColor='var(--line)';}));
drop.addEventListener('drop', e=>{ handleFiles(e.dataTransfer.files); });

preloadDefaults();

/* ============= MINI-JUEGO (igual al tuyo, sin cambios de mec√°nica) ============= */
(function(){
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;
const GROUND_Y = H - 70;

const state = { running:true, score:0, speed:3.8, speedFactor:1, lives:3, obstacles:[], t:0 };
const car = { x:120, y:GROUND_Y-34, w:120, h:34, vy:0, onGround:true, color:'#0aa87a' };

const $score = document.getElementById('score');
const $speed = document.getElementById('speed');
const $lives = document.getElementById('lives');

function updateHUD(){ $score.textContent = state.score; $speed.textContent = state.speedFactor.toFixed(1)+'x'; $lives.textContent = state.lives; }
function resetGame(){
state.running = true; state.score = 0; state.speed = 3.8; state.speedFactor = 1; state.lives = 3; state.obstacles = []; state.t = 0;
car.x = 120; car.y = GROUND_Y - car.h; car.vy = 0; car.onGround = true; updateHUD();
}
document.getElementById('restart').addEventListener('click', resetGame);

function spawnObstacle(){
const lastX = state.obstacles.length ? Math.max(...state.obstacles.map(o=>o.x)) : W + 300;
const gap = 260 + Math.random()*280;
const x = Math.max(W + 40, lastX + gap);
const type = Math.random() < 0.6 ? 'cone' : 'bar';
const w = type === 'cone' ? 22 : 50;
const h = type === 'cone' ? 28 : 34;
state.obstacles.push({ type, x, y:GROUND_Y - h, w, h });
}

function update(){
if(!state.running) return;
state.t++;
state.speedFactor += 0.0009;
const v = state.speed * state.speedFactor;

for(const o of state.obstacles){ o.x -= v; }
state.obstacles = state.obstacles.filter(o => o.x > -80);

if(state.obstacles.length < 4 || (state.obstacles.length && state.obstacles[state.obstacles.length-1].x < W*0.6)){
if(Math.random() < 0.05 * state.speedFactor) spawnObstacle();
}

if(!car.onGround){
car.vy += 0.55; car.y += car.vy;
if(car.y >= GROUND_Y - car.h){ car.y = GROUND_Y - car.h; car.vy = 0; car.onGround = true; }
}

for(const o of state.obstacles){
const ax=car.x, ay=car.y, aw=car.w, ah=car.h, bx=o.x, by=o.y, bw=o.w, bh=o.h;
if(ax < bx + bw && ax + aw > bx && ay < by + bh && ay + ah > by){
state.lives--; updateHUD(); o.x = -999; if(state.lives <= 0){ state.running = false; }
}
}

state.score += Math.floor(1 * state.speedFactor); updateHUD();
}

function draw(){
ctx.fillStyle = '#f3f6fb'; ctx.fillRect(0,0,W,H);
ctx.fillStyle = '#e8edf6'; ctx.fillRect(0,GROUND_Y, W, H - GROUND_Y);
ctx.strokeStyle = '#cfd6e6'; ctx.setLineDash([18,18]); ctx.lineWidth = 3;
ctx.beginPath(); ctx.moveTo(0, GROUND_Y-22); ctx.lineTo(W, GROUND_Y-22); ctx.stroke(); ctx.setLineDash([]);

// Auto
ctx.fillStyle = car.color;
ctx.fillRect(car.x+car.w*0.18, car.y+car.h*0.15, car.w*0.64, car.h*0.7);
ctx.fillRect(car.x, car.y+car.h*0.2, car.w*0.22, car.h*0.6);
ctx.fillRect(car.x+car.w*0.84, car.y+car.h*0.25, car.w*0.16, car.h*0.5);
ctx.fillStyle = '#2a3a3a'; ctx.fillRect(car.x+car.w*0.45, car.y+car.h*0.05, car.w*0.14, car.h*0.45);
ctx.fillStyle = '#222';
ctx.beginPath(); ctx.arc(car.x+car.w*0.25, car.y+car.h*0.92, car.h*0.18, 0, Math.PI*2); ctx.fill();
ctx.beginPath(); ctx.arc(car.x+car.w*0.78, car.y+car.h*0.92, car.h*0.18, 0, Math.PI*2); ctx.fill();

// Obst√°culos
for(const o of state.obstacles){
if(o.type === 'cone'){
ctx.fillStyle = '#f39c12';
ctx.beginPath(); ctx.moveTo(o.x, o.y+o.h); ctx.lineTo(o.x+o.w/2, o.y); ctx.lineTo(o.x+o.w, o.y+o.h); ctx.closePath(); ctx.fill();
ctx.fillStyle = '#fff'; ctx.fillRect(o.x+3, o.y+o.h-8, o.w-6, 4);
}else{
ctx.fillStyle = '#c0392b'; ctx.fillRect(o.x, o.y, o.w, o.h);
ctx.fillStyle = '#ecf0f1'; ctx.fillRect(o.x+4, o.y+6, o.w-8, 6); ctx.fillRect(o.x+4, o.y+o.h-12, o.w-8, 6);
}
}

if(!state.running){
ctx.fillStyle = 'rgba(0,0,0,.05)'; ctx.fillRect(0,0,W,H);
ctx.fillStyle = '#0b0c0f'; ctx.font = '700 42px system-ui, sans-serif'; ctx.textAlign = 'center';
ctx.fillText('Fin del juego', W/2, H/2 - 10);
ctx.font = '500 18px system-ui, sans-serif';
ctx.fillText('Pulsa Reiniciar para jugar de nuevo', W/2, H/2 + 26);
}
}

function loop(){ update(); draw(); requestAnimationFrame(loop); }
loop();

function jump(){ if(!state.running) return; if(car.onGround){ car.vy = -11.2; car.onGround = false; } }
window.addEventListener('keydown', e=>{ if(e.code==='Space' || e.code==='ArrowUp'){ e.preventDefault(); jump(); } });
document.getElementById('game').addEventListener('pointerdown', ()=> jump(), {passive:true});
})();
</script>
</body>
</html>

